<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RentHub Company Settings Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .info-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .info-item {
            margin-bottom: 10px;
        }
        .label {
            font-weight: bold;
            color: #2c3e50;
        }
        .value {
            color: #555;
            margin-left: 10px;
        }
        .api-test {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .endpoint {
            background: #2c3e50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            margin: 5px 0;
        }
        .test-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .test-btn:hover {
            background: #2980b9;
        }
        .response {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
            display: none;
        }
        .success {
            border-left: 4px solid #27ae60;
            background: #d5f4e6;
        }
        .error {
            border-left: 4px solid #e74c3c;
            background: #fadad7;
        }
        .social-links a {
            color: #3498db;
            text-decoration: none;
            margin-right: 15px;
        }
        .social-links a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè¢ RentHub - Company Settings Test</h1>
        
        <div class="api-test">
            <h2>üîó API Endpoints Test</h2>
            <p>TesteazƒÉ endpoint-urile pentru company details:</p>
            
            <div class="endpoint">GET http://127.0.0.1:8000/api/settings/company</div>
            <button class="test-btn" onclick="testEndpoint('company')">Test Company Details</button>
            <div id="company-response" class="response"></div>
            
            <div class="endpoint">GET http://127.0.0.1:8000/api/settings/social-media</div>
            <button class="test-btn" onclick="testEndpoint('social-media')">Test Social Media</button>
            <div id="social-media-response" class="response"></div>
            
            <div class="endpoint">GET http://127.0.0.1:8000/api/settings/google-maps</div>
            <button class="test-btn" onclick="testEndpoint('google-maps')">Test Google Maps</button>
            <div id="google-maps-response" class="response"></div>
            
            <div class="endpoint">GET http://127.0.0.1:8000/api/settings</div>
            <button class="test-btn" onclick="testEndpoint('')">Test All Settings</button>
            <div id="-response" class="response"></div>
        </div>

        <h2>üìã Company Information</h2>
        <div class="info-grid">
            <div class="info-card">
                <h3>Legal Details</h3>
                <div class="info-item">
                    <span class="label">Legal Name:</span>
                    <span class="value" id="company-legal-name">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Trade Name:</span>
                    <span class="value" id="company-trade-name">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Registration Number:</span>
                    <span class="value" id="company-registration-number">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Tax Number:</span>
                    <span class="value" id="company-tax-number">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">VAT Number:</span>
                    <span class="value" id="company-vat-number">Loading...</span>
                </div>
            </div>

            <div class="info-card">
                <h3>Address</h3>
                <div class="info-item">
                    <span class="label">Street:</span>
                    <span class="value" id="company-address-street">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">City:</span>
                    <span class="value" id="company-address-city">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">State:</span>
                    <span class="value" id="company-address-state">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Postal Code:</span>
                    <span class="value" id="company-address-postal-code">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Country:</span>
                    <span class="value" id="company-address-country">Loading...</span>
                </div>
            </div>

            <div class="info-card">
                <h3>Contact</h3>
                <div class="info-item">
                    <span class="label">Email:</span>
                    <span class="value" id="contact-email">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Phone:</span>
                    <span class="value" id="contact-phone">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">WhatsApp:</span>
                    <span class="value" id="contact-whatsapp">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Skype:</span>
                    <span class="value" id="contact-skype">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Telegram:</span>
                    <span class="value" id="contact-telegram">Loading...</span>
                </div>
            </div>

            <div class="info-card">
                <h3>Business Hours</h3>
                <div class="info-item">
                    <span class="label">Monday:</span>
                    <span class="value" id="hours-monday">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Tuesday:</span>
                    <span class="value" id="hours-tuesday">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Wednesday:</span>
                    <span class="value" id="hours-wednesday">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Thursday:</span>
                    <span class="value" id="hours-thursday">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Friday:</span>
                    <span class="value" id="hours-friday">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Saturday:</span>
                    <span class="value" id="hours-saturday">Loading...</span>
                </div>
                <div class="info-item">
                    <span class="label">Sunday:</span>
                    <span class="value" id="hours-sunday">Loading...</span>
                </div>
            </div>
        </div>

        <h2>üì± Social Media Links</h2>
        <div class="social-links" id="social-links">
            Loading social media links...
        </div>

        <h2>üó∫Ô∏è Google Maps Integration</h2>
        <div id="google-maps-info" class="info-card">
            Loading Google Maps information...
        </div>
    </div>

    <script>
        const API_BASE = 'http://127.0.0.1:8000/api/settings';

        async function loadCompanyData() {
            try {
                const response = await fetch(`${API_BASE}/company`);
                const result = await response.json();
                
                if (result.success && result.data) {
                    const data = result.data;
                    
                    // Legal details
                    document.getElementById('company-legal-name').textContent = data.legal_name || 'Not set';
                    document.getElementById('company-trade-name').textContent = data.trade_name || 'Not set';
                    document.getElementById('company-registration-number').textContent = data.registration_number || 'Not set';
                    document.getElementById('company-tax-number').textContent = data.tax_number || 'Not set';
                    document.getElementById('company-vat-number').textContent = data.vat_number || 'Not set';
                    
                    // Address
                    document.getElementById('company-address-street').textContent = data.address.street || 'Not set';
                    document.getElementById('company-address-city').textContent = data.address.city || 'Not set';
                    document.getElementById('company-address-state').textContent = data.address.state || 'Not set';
                    document.getElementById('company-address-postal-code').textContent = data.address.postal_code || 'Not set';
                    document.getElementById('company-address-country').textContent = data.address.country || 'Not set';
                    
                    // Contact
                    document.getElementById('contact-email').textContent = data.contact.email || 'Not set';
                    document.getElementById('contact-phone').textContent = data.contact.phone || 'Not set';
                    document.getElementById('contact-whatsapp').textContent = data.contact.whatsapp || 'Not set';
                    document.getElementById('contact-skype').textContent = data.contact.skype || 'Not set';
                    document.getElementById('contact-telegram').textContent = data.contact.telegram || 'Not set';
                    
                    // Business hours
                    document.getElementById('hours-monday').textContent = data.business_hours.monday || 'Not set';
                    document.getElementById('hours-tuesday').textContent = data.business_hours.tuesday || 'Not set';
                    document.getElementById('hours-wednesday').textContent = data.business_hours.wednesday || 'Not set';
                    document.getElementById('hours-thursday').textContent = data.business_hours.thursday || 'Not set';
                    document.getElementById('hours-friday').textContent = data.business_hours.friday || 'Not set';
                    document.getElementById('hours-saturday').textContent = data.business_hours.saturday || 'Not set';
                    document.getElementById('hours-sunday').textContent = data.business_hours.sunday || 'Not set';
                }
            } catch (error) {
                console.error('Error loading company data:', error);
                document.querySelectorAll('.value').forEach(el => {
                    el.textContent = 'Error loading';
                    el.style.color = '#e74c3c';
                });
            }
        }

        async function loadSocialMedia() {
            try {
                const response = await fetch(`${API_BASE}/social-media`);
                const result = await response.json();
                
                if (result.success && result.data) {
                    const data = result.data;
                    const socialContainer = document.getElementById('social-links');
                    
                    let html = '';
                    Object.entries(data).forEach(([platform, url]) => {
                        if (url) {
                            html += `<a href="${url}" target="_blank">${platform.charAt(0).toUpperCase() + platform.slice(1)}</a>`;
                        }
                    });
                    
                    socialContainer.innerHTML = html || 'No social media links configured';
                }
            } catch (error) {
                console.error('Error loading social media:', error);
                document.getElementById('social-links').innerHTML = 'Error loading social media links';
            }
        }

        async function loadGoogleMaps() {
            try {
                const response = await fetch(`${API_BASE}/google-maps`);
                const result = await response.json();
                
                if (result.success && result.data) {
                    const data = result.data;
                    const mapsContainer = document.getElementById('google-maps-info');
                    
                    let html = '<h3>Maps Configuration</h3>';
                    html += `<div class="info-item"><span class="label">Embed URL:</span><span class="value">${data.embed_url || 'Not set'}</span></div>`;
                    html += `<div class="info-item"><span class="label">Latitude:</span><span class="value">${data.latitude || 'Not set'}</span></div>`;
                    html += `<div class="info-item"><span class="label">Longitude:</span><span class="value">${data.longitude || 'Not set'}</span></div>`;
                    
                    mapsContainer.innerHTML = html;
                }
            } catch (error) {
                console.error('Error loading Google Maps:', error);
                document.getElementById('google-maps-info').innerHTML = 'Error loading Google Maps information';
            }
        }

        async function testEndpoint(endpoint) {
            const url = endpoint ? `${API_BASE}/${endpoint}` : API_BASE;
            const responseDiv = document.getElementById(`${endpoint}-response`);
            
            responseDiv.style.display = 'block';
            responseDiv.textContent = 'Loading...';
            responseDiv.className = 'response';
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                
                responseDiv.textContent = JSON.stringify(data, null, 2);
                responseDiv.className = 'response success';
            } catch (error) {
                responseDiv.textContent = `Error: ${error.message}`;
                responseDiv.className = 'response error';
            }
        }

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadCompanyData();
            loadSocialMedia();
            loadGoogleMaps();
        });
    </script>
</body>
</html>